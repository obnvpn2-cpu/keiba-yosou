# ç«¶é¦¬ã‚·ãƒŠãƒªã‚ªåˆ†æUI

Next.js 14 (App Router) + TypeScript + Tailwind CSS ã§æ§‹ç¯‰ã—ãŸç«¶é¦¬äºˆæƒ³AIå‘ã‘UIã§ã™ã€‚

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# http://localhost:3000 ã§ã‚¢ã‚¯ã‚»ã‚¹
```

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
keiba-ui/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx              # ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ globals.css             # Tailwind CSS + ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ page.tsx                # ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ï¼ˆ/scenarioã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â”‚   â”œâ”€â”€ scenario/
â”‚   â”‚   â””â”€â”€ page.tsx            # ãƒ¡ã‚¤ãƒ³UIç”»é¢
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ScenarioControl.tsx # æ¡ä»¶è¨­å®šUI
â”‚   â”‚   â”œâ”€â”€ HorseTable.tsx      # é¦¬ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”‚   â””â”€â”€ HorseDetailModal.tsx# é¦¬è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ types.ts            # å‹å®šç¾©
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ scenario_default.json   # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ scenario_slow_inner.json# ã‚¹ãƒ­ãƒ¼Ã—å†…ä¼¸ã³
â”‚   â”œâ”€â”€ scenario_middle_flat.json# ãƒŸãƒ‰ãƒ«Ã—ãƒ•ãƒ©ãƒƒãƒˆ
â”‚   â””â”€â”€ scenario_high_outer.json# ãƒã‚¤Ã—å¤–ä¼¸ã³
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.ts
â”œâ”€â”€ postcss.config.js
â””â”€â”€ tsconfig.json
```

## ğŸ¯ æ©Ÿèƒ½

### ScenarioControlï¼ˆæ¡ä»¶è¨­å®šï¼‰
- **å¤©å€™**: æ™´ / æ›‡ / é›¨ / é›ª
- **é¦¬å ´çŠ¶æ…‹**: è‰¯ / ç¨é‡ / é‡ / ä¸è‰¯
- **ãƒã‚¤ã‚¢ã‚¹**: å†…æœ‰åˆ© / ãƒ•ãƒ©ãƒƒãƒˆ / å¤–æœ‰åˆ©
- **ãƒšãƒ¼ã‚¹**: ã‚¹ãƒ­ãƒ¼ / ãƒŸãƒ‰ãƒ« / ãƒã‚¤
- **å«æ°´ç‡**: 0ã€œ30% ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
- **ã‚¯ãƒƒã‚·ãƒ§ãƒ³å€¤**: 5ã€œ12 ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
- **å†è¨ˆç®—ãƒœã‚¿ãƒ³**: æ¡ä»¶ã«å¿œã˜ãŸJSONã‚’fetch

### HorseTableï¼ˆé¦¬ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰
- å…¨åˆ—ã‚½ãƒ¼ãƒˆå¯èƒ½ï¼ˆæ˜‡é †/é™é †ï¼‰
- è¡¨ç¤ºåˆ—:
  - é¦¬ç•ªï¼ˆæ ç•ªã‚«ãƒ©ãƒ¼ï¼‰
  - é¦¬å
  - è„šè³ª
  - ãƒ™ãƒ¼ã‚¹å‹ç‡
  - é¦¬å ´è£œæ­£
  - ãƒšãƒ¼ã‚¹è£œæ­£
  - ç›¸æ€§ã‚¹ã‚³ã‚¢
  - æœ€çµ‚å‹ç‡
  - è£œæ­£å·®åˆ†
  - è§£èª¬ï¼ˆçœç•¥è¡¨ç¤ºï¼‰
- è¡Œã‚¯ãƒªãƒƒã‚¯ â†’ è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«

### HorseDetailModalï¼ˆè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼‰
- å‹ç‡æ¨ç§»ï¼ˆãƒ™ãƒ¼ã‚¹ â†’ é¦¬å ´è£œæ­£ â†’ ãƒšãƒ¼ã‚¹è£œæ­£ â†’ æœ€çµ‚ï¼‰
- è£œæ­£è©³ç´°ï¼ˆé¦¬å ´ãƒ»ãƒšãƒ¼ã‚¹ãƒ»ç›¸æ€§ï¼‰
- SHAPä¸Šä½ç‰¹å¾´
- å¥½ææ–™ï¼ˆcommentï¼‰
- æ‡¸å¿µç‚¹ï¼ˆconcernsï¼‰
- è£œæ­£ç†ç”±ã‚¿ã‚°

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ–°ã—ã„ã‚·ãƒŠãƒªã‚ªJSONã‚’è¿½åŠ 

1. `public/` ã«æ–°ã—ã„JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
2. `app/scenario/page.tsx` ã® `getScenarioFileName()` ã‚’ä¿®æ­£

### JSONãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```typescript
interface Horse {
  horse_id: string;
  horse_no: number;
  name: string;
  run_style: string;
  
  base_win: number;      // ãƒ™ãƒ¼ã‚¹å‹ç‡
  adj_win: number;       // æœ€çµ‚å‹ç‡
  delta_win: number;     // è£œæ­£å·®åˆ†
  
  baba_delta: number;    // é¦¬å ´è£œæ­£
  pace_delta: number;    // ãƒšãƒ¼ã‚¹è£œæ­£
  synergy_score: number; // ç›¸æ€§ã‚¹ã‚³ã‚¢
  
  comment: string;       // å¥½ææ–™
  concerns: string;      // æ‡¸å¿µç‚¹
  
  shap_top: { name: string; value: number }[];
  reasons: string[];
}
```

## ğŸ›¡ï¸ è¨­è¨ˆãƒã‚¤ãƒ³ãƒˆ

- **Suspenseä¸ä½¿ç”¨**: ç™½ç”»é¢é˜²æ­¢
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: SSRä¸è¦ã§ã‚·ãƒ³ãƒ—ãƒ«
- **é˜²å¾¡çš„ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°**: try/catchå®Œå‚™
- **TypeScriptå®Œå…¨å¯¾å¿œ**: å‹å®‰å…¨
- **Tailwindã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹**: å†åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¿ã‚¤ãƒ«

## ğŸ“‹ ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

- [ ] APIé€£æºï¼ˆJSONãƒ•ã‚¡ã‚¤ãƒ« â†’ FastAPIï¼‰
- [ ] LLMè§£èª¬ç”Ÿæˆ
- [ ] EVè¨ˆç®—ãƒ»æœŸå¾…å€¤è¡¨ç¤º
- [ ] ç›¸æ€§ã‚¹ã‚³ã‚¢ã®è©³ç´°å†…è¨³
- [ ] ãƒ¬ãƒ¼ã‚¹å±¥æ­´ãƒ»æˆç¸¾è¡¨ç¤º
